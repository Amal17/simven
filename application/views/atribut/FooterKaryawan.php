<!-- /.content-wrapper -->
  <footer class="main-footer">
    <center>Copyright &copy; 2018. <a href="" target="blank">PKL UIN Maulana Malik Ibrahim Malang.</a></center>
  </footer>

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Create the tabs -->
    <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
      <li><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li>
      <li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a></li>
    </ul>
    <!-- Tab panes -->
    <div class="tab-content">
      <!-- Home tab content -->
      <div class="tab-pane" id="control-sidebar-home-tab">
        <h3 class="control-sidebar-heading">Recent Activity</h3>
        <ul class="control-sidebar-menu">
          <li>
            <a href="javascript:void(0)">
              <i class="menu-icon fa fa-birthday-cake bg-red"></i>

              <div class="menu-info">
                <h4 class="control-sidebar-subheading">Langdon's Birthday</h4>

                <p>Will be 23 on April 24th</p>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <i class="menu-icon fa fa-user bg-yellow"></i>

              <div class="menu-info">
                <h4 class="control-sidebar-subheading">Frodo Updated His Profile</h4>

                <p>New phone +1(800)555-1234</p>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <i class="menu-icon fa fa-envelope-o bg-light-blue"></i>

              <div class="menu-info">
                <h4 class="control-sidebar-subheading">Nora Joined Mailing List</h4>

                <p>nora@example.com</p>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <i class="menu-icon fa fa-file-code-o bg-green"></i>

              <div class="menu-info">
                <h4 class="control-sidebar-subheading">Cron Job 254 Executed</h4>

                <p>Execution time 5 seconds</p>
              </div>
            </a>
          </li>
        </ul>
        <!-- /.control-sidebar-menu -->

        <h3 class="control-sidebar-heading">Tasks Progress</h3>
        <ul class="control-sidebar-menu">
          <li>
            <a href="javascript:void(0)">
              <h4 class="control-sidebar-subheading">
                Custom Template Design
                <span class="label label-danger pull-right">70%</span>
              </h4>

              <div class="progress progress-xxs">
                <div class="progress-bar progress-bar-danger" style="width: 70%"></div>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <h4 class="control-sidebar-subheading">
                Update Resume
                <span class="label label-success pull-right">95%</span>
              </h4>

              <div class="progress progress-xxs">
                <div class="progress-bar progress-bar-success" style="width: 95%"></div>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <h4 class="control-sidebar-subheading">
                Laravel Integration
                <span class="label label-warning pull-right">50%</span>
              </h4>

              <div class="progress progress-xxs">
                <div class="progress-bar progress-bar-warning" style="width: 50%"></div>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <h4 class="control-sidebar-subheading">
                Back End Framework
                <span class="label label-primary pull-right">68%</span>
              </h4>

              <div class="progress progress-xxs">
                <div class="progress-bar progress-bar-primary" style="width: 68%"></div>
              </div>
            </a>
          </li>
        </ul>
        <!-- /.control-sidebar-menu -->

      </div>
      <!-- /.tab-pane -->
      <!-- Stats tab content -->

          <!-- /.form-group -->
        </form>
      </div>
      <!-- /.tab-pane -->
    </div>
  </aside>
  <!-- /.control-sidebar -->
  <!-- Add the sidebar's background. This div must be placed
       immediately after the control sidebar -->
  <div class="control-sidebar-bg"></div>
</div>


  <!-- jQuery 3 -->
  <script src="<?php echo base_url()?>assets/js/jquery-2.2.3.min.js"></script>

  <!-- jQuery UI 1.11.4 -->
  <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
  <script src="<?php echo base_url()?>assets/js/bootstrap.min.js"></script>

  <!-- Sparkline -->
  <script src="<?php echo base_url()?>assets/js/adminlte.min.js"></script>

  <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
  <script src="<?php echo base_url()?>assets/js/pages/dashboard.js"></script>

  <!-- AdminLTE for demo purposes -->
  <script src="<?php echo base_url()?>assets/js/demo.js"></script>
  <script src="<?php echo base_url()?>assets/js/jquery.dataTables.min.js"></script>
  <script src="<?php echo base_url()?>assets/js/dataTables.bootstrap.js"></script>


  <!-- Datatables -->
  <script src="<?php echo base_url()?>assets/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
  <script src="<?php echo base_url()?>assets/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
  <script src="<?php echo base_url()?>assets/vendors/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
  <script src="<?php echo base_url()?>assets/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
  <script src="<?php echo base_url()?>assets/vendors/datatables.net-buttons/js/buttons.flash.min.js"></script>
  <script src="<?php echo base_url()?>assets/vendors/datatables.net-buttons/js/buttons.html5.min.js"></script>
  <script src="<?php echo base_url()?>assets/vendors/datatables.net-buttons/js/buttons.print.min.js"></script>
  <script src="<?php echo base_url()?>assets/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
  <script src="<?php echo base_url()?>assets/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js"></script>
  <script src="<?php echo base_url()?>assets/vendors/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
  <script src="<?php echo base_url()?>assets/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
  <script src="<?php echo base_url()?>assets/vendors/datatables.net-scroller/js/dataTables.scroller.min.js"></script>
  <script src="<?php echo base_url()?>assets/vendors/jszip/dist/jszip.min.js"></script>
  <script src="<?php echo base_url()?>assets/vendors/pdfmake/build/pdfmake.min.js"></script>
  <script src="<?php echo base_url()?>assets/vendors/pdfmake/build/vfs_fonts.js"></script>

  <script>
    var $fil = jQuery.noConflict();
    $fil(document).ready(function() {
    $fil("#periode").change(function(){
   
    dropdown = $fil('#periode').val();

          
          if (dropdown == 'harian')
          {
            $fil(document.getElementById('m2')).remove();
            $fil(document.getElementById('y2')).remove();
            $fil(document.getElementById('y3')).remove();
            $fil('<select id="d1" name="tgl1" class="form1"><?php 
          for ($ntg = 1; $ntg<=31;$ntg++) {
          if ($ntg == date("j") ) {
            echo "<option value= $ntg selected>$ntg";
          } else{
            echo "<option value= $ntg>$ntg";
          }
        } ?></select> <select id="m1" name="bln1" class="form1"><?php
          for ($nbl = 0; $nbl<=11;$nbl++) {
          if ($nbl == date("n") - 1) {
          echo "<option value= $nbl selected> $cbulan[$nbl]";
          } else {
          echo "<option value= $nbl> $cbulan[$nbl]";
          }
        } ?></select> <select id="y1" name="thn1" class="form1"><?php
          for ($nth = $nthm; $nth<=$ntha;$nth++) {
          if ($nth == date("Y")) {
          echo "<option value= $nth selected> $nth";
          } else {
          echo "<option value= $nth> $nth";
          }
        }?></select>').appendTo('#output');
          
          }
          else if (dropdown == 'bulanan') 
          {
            $fil(document.getElementById('d1')).remove();
            $fil(document.getElementById('m1')).remove();
            $fil(document.getElementById('y1')).remove();
            $fil(document.getElementById('y3')).remove();
             $fil('<select id="m2" name="bln2" class="form1"><?php
          for ($nbl = 0; $nbl<=11;$nbl++) {
          if ($nbl == date("n") - 1) {
          echo "<option value= $nbl selected> $cbulan[$nbl]";
          } else {
          echo "<option value= $nbl> $cbulan[$nbl]";
          }
        } ?></select> <select id="y2" name="thn2" class="form1"><?php
          for ($nth = $nthm; $nth<=$ntha;$nth++) {
          if ($nth == date("Y")) {
          echo "<option value= $nth selected> $nth";
          } else {
          echo "<option value= $nth> $nth";
          }
        }?></select>').appendTo('#output');
          }
          else if (dropdown == 'tahunan') 
          {
            $fil(document.getElementById('d1')).remove();
            $fil(document.getElementById('m1')).remove();
            $fil(document.getElementById('y1')).remove();
            $fil(document.getElementById('m2')).remove();
            $fil(document.getElementById('y2')).remove();
             $fil('<select id="y3" name="thn3" class="form1"><?php
          for ($nth = $nthm; $nth<=$ntha;$nth++) {
          if ($nth == date("Y")) {
          echo "<option value= $nth selected> $nth";
          } else {
          echo "<option value= $nth> $nth";
          }
        }?></select>').appendTo('#output');
          }
          else if (dropdown == 'semua') 
          {
            $fil(document.getElementById('d1')).remove();
            $fil(document.getElementById('m1')).remove();
            $fil(document.getElementById('y1')).remove();
            $fil(document.getElementById('m2')).remove();
            $fil(document.getElementById('y2')).remove();
            $fil(document.getElementById('y3')).remove();

          }
          

      });
    });
    </script>

    <script>
    var $total = jQuery.noConflict();
    $total(document).click(function(){

      //iterate through each textboxes and add keyup
      //handler to trigger sum event
      $total(".txt").each(function() {

        $total(this).keyup(function(){
          calculateSum();
          var max = $total(this).attr("data-max");
              if(this.value > parseInt(max)){
              alert("Melebihi Jumlah Stock");
              this.value = "";
        
        }
        });
        $total(document.getElementById('total_biaya')).value = 0;
        
        $total("#biaya_racikan").keyup(function(){
          calculateSum();
        });
      });

    });

    function calculateSum() {

      var sum = 0;
      var tt = 0;
      //iterate through each textboxes and add the values
      $total(".txt").each(function() {

        //add only if the value is number
        if(!isNaN(this.value) && this.value.length!=0) {
          sum += parseInt(this.value,10) * $total(this).attr("data");
        }

      });
      //fungsi biaya racikan
      
      var tt = sum + parseInt($total('#biaya_racikan').val(),10);
      //
      //.toFixed() method will roundoff the final sum to 2 decimal places
      //$("#sum").html(sum.toFixed(0));
      $total("#total_biaya").val(tt);
    }
    
    </script>
    
    <script>
    var $reset = jQuery.noConflict();
    $reset("#reset").click(function(){
    $reset('.mtable tbody tr:not(:first)').remove();
    });
    </script>
    
    <script>
    var $autosum = jQuery.noConflict();
    $autosum(document).ready(function() {
    $autosum("input[type=checkbox]").change(function(){
    //recalculate();
        if (this.checked) {
          var isi = $autosum(this).attr("data");
          var isi2 = $autosum(this).attr("data2");
          var isi3 = $autosum(this).attr("data3");
          var price = $autosum(this).attr("price");
          var jumlah = $autosum(this).attr("jumlah");
      var u = $autosum("input[sz=jl]").size() + 1;
          //$autosum('<div id="d">'+ isi +' - '+ isi2 +' - '+ isi3 + ' <input type="number" name="jumlah"> ' + '</div>').appendTo('#output');
          $autosum('.mtable tbody').append($autosum(".mtable tbody tr:last").clone());
          $autosum('.mtable tbody tr:last td:first-child').html(isi);
          $autosum('.mtable tbody tr:last td:nth-child(2)').html(isi2);
          $autosum('.mtable tbody tr:last td:nth-child(3)').html(isi3);
          $autosum('.mtable tbody tr:last td:last-child').html('<input type="hidden" name="ver" value='+ isi +'><input type="hidden" name="item[]" value='+ isi +'><input type="number" data='+ price +' class="txt" name="jumlah_item[]" id="isi' + u + '" sz="jl" data-max='+ jumlah +'>');
          
      }else{
           $autosum('.mtable tbody tr:last').remove();} 
         // $autosum('<div id="d">'+ isi2 + ':' + ' <input type="number" name="jumlah" style="width:100px;"> ' + '</div>').appendTo('#output');
      //} else {
          // $autosum(document.getElementById('d')).remove();
      //} 
    });
    /*function recalculate(){
      var sum = 0;
    var jumlah = $autosum('.isi').val();
    
      $autosum("input[type=checkbox]:checked").each(function(){
        sum += parseInt($autosum(this).attr("price"));
      });
    //  alert(sum);
    ////$("#output").html(sum);
      document.getElementById('total_biaya').value = sum
    }*/
    });
    </script> 
    
    <script>
    var $jnoc = jQuery.noConflict();
    $jnoc(function() {
      $jnoc('#example1').dataTable();
      });
    </script>


  </body>
</html>

